o<m106> sub
#500=12; fan io start index
#501=1; synchronized
#502=#500
o100 if [EXISTS[#<i>]]
    o110 if [#<i> EQ 0]
        #501=0
    o110 endif
o100 endif
o101 if [EXISTS[#<p>]]
    #502=[#<p>+#500]
o101 endif
o102 if [#501 EQ 1]
    M67 E#502 Q#<S>
    o111 if [#[#502+100] EQ 1]
        M63 P#502
        #[#502+100]=0
    o111 else
        M62 P#502
        #[#502+100]=1
    o111 endif
o102 else
    M68 E#502 Q#<S>
    o112 if [#[#502+100] EQ 1]
        M65 P#502
        #[#502+100]=0
    o112 else
        M64 P#502
        #[#502+100]=1
    o112 endif
o102 endif
o<m106> end sub
