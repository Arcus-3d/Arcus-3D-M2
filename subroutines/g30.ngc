o<g30> sub
#503=38; probe selection io index
#505=38; probe enable io index
#514=#<_x>; probe x
#515=#<_y>; probe y
o100 if [EXISTS[#<x>]]
    #514=#<x>
o100 endif
o101 if [EXISTS[#<y>]]
    #515=#<y>
o101 endif
M65 P#505; disable probe sensor if it was enabled
M68 E#503 Q0; select probe
G10 L2 P1 Z0.0; reset z offset
G0 Z#<_ini[PROBE]START_Z>
G43 H#<_ini[PROBE]TOOL_NR>
G0 X#514 Y#515
M64 P#505; enable probe sensor
G38.2 Z#<_ini[AXIS_2]MIN_LIMIT> F#<_ini[PROBE]SEARCH_VEL>; probe Z axis
M65 P#505; disable probe sensor
G10 L20 P1 Z0.0; set Z offset
G49
G0 X#514 Y#515 Z#<_ini[PROBE]END_Z>
o<g30> end sub